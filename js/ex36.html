<!DOCTYPE html>
<html lang="en">
<head>
    <title>reduce 함수</title>
    <script>
        // reduce 함수 - 하나의 결과값을 반환
        var nums = [10, 20, 30, 40, 50];
        // acc: accumlator 누적되는 값, 최종반환값
        // cur: current 현재 요소값
        let sum = nums.reduce((acc, cur) => {
            console.log(acc, cur);
            return acc + cur;
        });
        console.log(sum);

        // 함수형 변수(콜백함수), acc 초기값
        sum = nums.reduce((acc, cur, index, arr) => {
            console.log(acc, cur, index, arr);
            return acc + cur
        }, 0);

        let max = nums.reduce((acc, cur) => {
            return acc > cur ? acc : cur
        });
        console.log(max);


        // 알파벳 갯수 구하기
        const alphabets = ['a', 'a', 'c', 'c', 'c'];
        var count = alphabets.reduce(
            (acc, cur) => {
                if(acc[cur]){       // {}에 acc['a']에 값이 있는가?
                    acc[cur] += 1;
                } else {
                    acc[cur] = 1;   // acc['a'] = 1 => {a: 1}
                }
            return acc;
            },
            {} // 빈 객체
        )
        console.log(count);


        // 연습문제
        // 1. reduce 함수를 이용하여, 35보다 큰 숫자의 갯수를 출력
        console.log('1.');
        var nums = [10, 20, 30, 40, 50];
        var countvalue = nums.reduce((count, cur) => {
                if(cur > 35){
                    count += 1;   
                }
            return count;
            }, 0);
        console.log(countvalue);
        console.log('---------');

        // 강사님 풀이
        var count = nums.reduce((acc, cur) => {
                if(cur > 35){
                    acc += 1;
                }
                return acc
            }, 0);
        console.log(count);


        // 2. reduce 함수를 이용하여, 배열의 문자열 길이를 구하시오
        console.log('2.');
        var strings = ['hong', 'lee', 'imdan'];
        var strlength = strings.reduce(
            (len, cur, index) => {
                len[index] = cur.length;
                return len;
            }, []
        );
        console.log(strlength);
        console.log('---------');

        // 강사님 풀이
        var strings = ['hong', 'lee', 'imdan'];
        let arrLength = strings.reduce((acc, cur) => {
            // 전개연산자
            return [...acc, cur.length];
        }, []);
        console.log(arrLength);

        let arrLenght2 = strings.reduce((acc, cur) => {
            acc.push(cur.length);
            return acc;
        }, []);
        console.log(arrLenght2);
    </script>
</head>
<body>
    
</body>
</html>